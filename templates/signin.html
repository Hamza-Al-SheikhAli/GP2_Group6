{% extends 'base.html' %}

{% block content %}

<body>
  <!-- Display Flash Messages -->
  {% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
  {% for category, message in messages %}
  <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
    {{ message }}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
  {% endfor %}
  {% endif %}
  {% endwith %}

  <form method="POST">
    {{ form.hidden_tag() }}
    {% if step == '1' %}
    <h1>Welcome to the signin page, please enter your name and wait until you are authenticated!</h1>
    <!-- Username Step -->
    <div class="form-group">
      {{ form.name.label(class="form-label") }}
      {{ form.name(class="form-control") }}
    </div>
    {% elif step == '2' %}
    <!-- Value Step -->
    <div class="form-group">
      {{ form.value.label(class="form-label") }}
      {{ form.value(class="form-control") }}
    </div>
    {% elif step == '3' %}
    <!-- Password Step -->
    <div class="form-group">
      {{ form.password.label(class="form-label") }}
      {{ form.password(class="form-control") }}
    </div>
    {% endif %}
    <!-- Submit Button -->
    <div class="form-group">
      {{ form.submit(class="btn btn-primary") }}
    </div>
  </form>
</body>
{% endblock %}